(new-declaration (:: tested test)
  (:= test @(exec (union @#tested #test)))
  (== test ok))

(spec direction [
  [-north ok]
  [-south ok]
  [-west ok]
  [-east ok]])

(:= n +north)
(:: n direction)

(spec result [
  [(-ok X) ok]
  [(-error X) ok]])

(:= x (+ok a))
(:: x result)

'pattern matching
(:= get_ok [
  [(-ok X) X]
  [(-error X) (+error X)]])

<show exec (union #get_ok @#x)>
