(macro (spec X Y) (:= X Y))
(macro (:: Tested Test)
  (== @(interact @#Tested #Test) ok))

(spec direction {
  [-north ok]
  [-south ok]
  [-west ok]
  [-east ok]})

(:= n +north) (:: n direction)

(spec result { [(-ok X) ok] [(-error X) ok]})

(:= x (+ok a)) (:: x result)

'pattern matching
(:= get_ok {
  [(-ok X) X]
  [(-error X) (+error X)]})

(show (interact #get_ok @#x))
