(macro (spec X Y) (def X Y))
(macro (stack A B) (A B))
(macro (stack A B C ...) (A (stack B C ...)))

(def 1 (+nat (s 0)))
(def 2 (+nat (stack s s 0)))
(def 3 (+nat (stack s s s 0)))

(spec nat [(-nat (s X)) (+nat X)])

(def tested @(fire @#1 #nat))
(== #tested (+nat 0))

(def tested @(fire @#2 #nat))
(== #tested (+nat (s 0)))

(def tested @(fire @#3 #nat))
(== #tested (+nat (stack s s 0)))
